# TOPIC Ⅱ：JDK
## 1. JDK 内置命令行工具：40'57''
### 常用命令
* java：JVM启动的入口
* javac：编译成.class文件
* javap：反编译.class文件 / 用字节码的方式查看
* jar：项目打包命令（可以用zip解压工具解压）

### 命令行工具：查看JVM运行状态
* jps / jinfo：查看`JAVA进程`
    * jps -mlv 详细信息
    * 查看单个进程：jinfo
    * 坑，不兼容：各个账号探查权限不同；不同JDK版本，使用某一版下的jps查看时信息也不全。
* jstat：查看JVM内部`GC相关`信息
    * 统计信息
    * 常用：-gc （GC相关的推内存信息，显示为字节数，单位是KB） 和 -gcutil （GC相关区域使用率，显示为百分比）
    * -gcutil内容：timestamp 用-t参数打印, S0, S1, E, O 老年代, M 元数据区, CCS 压缩类区, YGC 年轻代GC次数, YGCT 年轻代GC时间, FGC FullGC次数, FGCT, GCT 所有GC的时间总和. 
    * -gc：含使用量和容量信息，可以计算为使用率
* jmap：查看heap或class占用空间统计；打`快照`
    * 静态堆内存的配置和实际使用大小
    * 不同类型在堆内存上的实例数和占用字节数（直方图；可以查看什么占用空间较多，从而调整数据类型的使用，节省空间）
    * 堆内存`dump`编程一个二进制文件等文件（即转储文件）
* jstack：查看所有`线程`信息
    * 加pid查看
    * -l：长列表模式查看线程的锁
    * 在Mac和Linux上可以使用“kill -3 pid”打印线程信息
* jcmd：（一个整合了以上的命令）执行JVM相关分析命令
    * 新版：JDK8+版本
    * 综合了前几个命令
* jrunscirpt / jjs：运行脚本片段
    * jrunscirpt：直接执行脚本。可以模拟curl命令。，交互式
    * jjs：相当于shell


## 2. JDK 内置图形化工具：21'53''
* 更方便地分析JVM内部情况
### jconsole
* 支持本地和远程访问JAVA进程
* 可视化面板——监控当前的JVM使用情况，随时间的发展趋势
    * 概览，JVM的初步了解：堆内存使用量，类，线程，CPU占用率
    * 内存：不同区域可以单独查看
    * 线程：可以查看每一个线程的详情；支持检测死锁
    * 类：已加载，已卸载
    * VM概要

### jvisualvm
* jdk1.8.0之后需要去官网下载工具安装
* 强大功能：`抽样器Sampler`
* 类似的工具：VisualGC 插件，与IDE结合使用

### jmc：最强大！！！
* JAVA Mission Control
* 强大功能：`JAVA飞行记录器`，记录一个时间段内的所有JVM内部的变化
    * 较之前几个工具的优势：对原始监控数据的汇总加工分析，还可以分析代码帮助调优
    * 1.8.0.261之后的JDK版本不带此功能
    * MAC：swt库替换老的库，防止卡死